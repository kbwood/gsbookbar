/* http://keith-wood.name/gsbookbar.html
   Google Search Bookbar for jQuery v1.0.1.
   See http://www.google.com/uds/solutions/bookbar/reference.html.
   Written by Keith Wood (kbwood{at}iinet.com.au) November 2008.
   Dual licensed under the GPL (http://dev.jquery.com/browser/trunk/jquery/GPL-LICENSE.txt) and 
   MIT (http://dev.jquery.com/browser/trunk/jquery/MIT-LICENSE.txt) licenses. 
   Please attribute the author if you use it. */
(function($){function GSBookbar(){this._defaults={horizontal:true,thumbnailSize:this.thumbnailsMedium,search:'jquery',manyResults:false,cycleTime:this.cycleMedium,cycleMode:this.cycleRandom}}var d='gsbookbar';$.extend(GSBookbar.prototype,{markerClassName:'hasGSBookbar',cycleVShort:3000,cycleShort:10000,cycleMedium:15000,cycleLong:30000,cycleRandom:1,cycleLinear:2,thumbnailsSmall:1,thumbnailsMedium:2,setDefaults:function(a){extendRemove(this._defaults,a||{});return this},_attachGSBookbar:function(a,b){a=$(a);if(a.is('.'+this.markerClassName)){return}a.addClass(this.markerClassName);var c={target:a};c.options=$.extend({},b);$.data(a[0],d,c);this._updateGSBookbar(a,c)},_changeGSBookbar:function(a,b){var c=$.data(a,d);if(c){extendRemove(c.options,b||{});$.data(a,d,c);this._updateGSBookbar($(a),c)}},_searchGSBookbar:function(a,b){var c=$.data(a,d);if(c){extendRemove(c.options,{search:b});$.data(a,d,c);c.bookbar.execute(b)}},_updateGSBookbar:function(a,b){var c=this._get(b,'search');c=(isArray(c)?c:[c]);b.bookbar=new GSbookBar(a[0],{largeResultSet:this._get(b,'manyResults'),horizontal:this._get(b,'horizontal'),thumbnailSize:this._get(b,'thumbnailSize'),autoExecuteList:{executeList:c,cycleTime:this._get(b,'cycleTime'),cycleMode:this._get(b,'cycleMode')}})},_destroyGSBookbar:function(a){a=$(a);if(!a.is('.'+this.markerClassName)){return}a.removeClass(this.markerClassName).empty();$.removeData(a[0],d)},_get:function(a,b){return(a.options[b]!=null?a.options[b]:$.gsbookbar._defaults[b])}});function extendRemove(a,b){$.extend(a,b);for(var c in b){if(b[c]==null){a[c]=null}}return a}function isArray(a){return(a&&a.constructor==Array)}$.fn.gsbookbar=function(a){var b=Array.prototype.slice.call(arguments,1);return this.each(function(){if(typeof a=='string'){$.gsbookbar['_'+a+'GSBookbar'].apply($.gsbookbar,[this].concat(b))}else{$.gsbookbar._attachGSBookbar(this,a)}})};if($('script[src*=www.google.com/uds/api?file=uds.js]').length==0){if(!$.googleSearchKey){throw'Missing Google Search Key';}document.write('<script type="text/javascript" src="http://www.google.com/uds/'+'api?file=uds.js&v=1.0&key='+$.googleSearchKey+'"></script>\n'+'<link type="text/css" href="http://www.google.com/uds/css/gsearch.css" rel="stylesheet"/>\n')}document.write('<script type="text/javascript" src="http://www.google.com/uds/'+'solutions/bookbar/gsbookbar.js"></script>\n'+'<link type="text/css" href="http://www.google.com/uds/solutions/bookbar/gsbookbar.css" '+'rel="stylesheet"/>\n');$.gsbookbar=new GSBookbar()})(jQuery);